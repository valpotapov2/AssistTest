# AssistTest

Инструмент для тестирования API — медицинский домен (Assist).

## Структура

```
frontend/
  index.html                        # UI — запуск и мониторинг тестов
database/
  migrations/
    001_api_test_initial.sql        # Таблицы + SQL-шаблоны + тестовые данные
docs/
  DATABASE.md                       # Описание схемы БД
```

## Быстрый старт

### 1. Применить миграцию

```bash
mysql -u user -p db_name < database/migrations/001_api_test_initial.sql
```

### 2. Открыть интерфейс

Открыть `frontend/index.html` в браузере. Задать в шапке:
- **Base URL** — адрес API (например `https://your-domain.ru/api/v1`)
- **Login / Password** — учётные данные для авторизации

### 3. Запустить тесты

- **F5** — автоматический прогон всех кейсов
- **Step** — пошаговый режим (→ для следующего шага)
- **Single** — запуск одного выбранного кейса

## Возможности

- Чейн-тесты: передача state между шагами через `<var>`
- Снапшоты API-ответов до и после шага
- Граф связей объектов: Пациент → Приём → Осмотр → Повторный
- Валидации ответов: `eq`, `hasField`
- Негативные сценарии и cleanup-шаги
- История запусков с детальным разбором каждого шага

## Тестовый сценарий (предзаполнен)

«Медицина: полный флоу врача»: Авторизация → Пациент → Первичный приём → Фото → Осмотр → Повторный приём → Cleanup

## Технологии

- **Frontend:** ванильный HTML/JS/CSS, без зависимостей, один файл
- **БД:** MySQL 5.7+ / MariaDB
- **API:** REST JSON
